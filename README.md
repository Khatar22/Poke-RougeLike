# Pok√©mon Sapphire Roguelike (Final JS)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ
–§–∏–Ω–∞–ª—å–Ω–∞—è JS-–≤–µ—Ä—Å–∏—è —Ñ–∞–Ω–∞—Ç—Å–∫–æ–π roguelike-–∏–≥—Ä—ã, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω–æ–π Pok√©mon Sapphire.  
–ê–∫—Ü–µ–Ω—Ç –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏ –∞—É—Ç–µ–Ω—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–µ –±–æ—ë–≤: PP, –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ movesets –ø–æ —Å—Ç–∞–¥–∏—è–º —ç–≤–æ–ª—é—Ü–∏–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã/—É—Ä–æ–Ω, –¥—Ä–æ–ø –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–∏–º–∫–∏.

---

## üéÆ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–æ—à–∞–≥–æ–≤—ã–π –±–æ–π** —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏.
- **PP –¥–ª—è –ø—Ä–∏—ë–º–æ–≤**: –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ö–æ–¥–∞ –ø—Ä–∏ 0 PP.
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è movesets –ø–æ —Å—Ç–∞–¥–∏—è–º**: 2 –Ω–∞–≤—ã–∫–∞ (—Å—Ç–∞—Ä—Ç), 3 (—Å—Ä–µ–¥–Ω—è—è), 4 (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è).
- **–≠–≤–æ–ª—é—Ü–∏–∏**: —Ä–æ—Å—Ç —É—Ä–æ–≤–Ω—è ‚Üí —Ç—Ä–∏–≥–≥–µ—Ä—ã —ç–≤–æ–ª—é—Ü–∏–π —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º moveset.
- **–î—Ä–æ–ø –ø—Ä–µ–¥–º–µ—Ç–æ–≤**: —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è –≤–µ—â–µ–π –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã (potion, pokeballs –∏ –¥—Ä.).
- **–ü–æ–∏–º–∫–∞**: —Å —à–∞–Ω—Å–∞–º–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI**: –∞—Ä–µ–Ω–∞ 16:9, —Ç–æ—á–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ ¬´–∫—Ä—É–≥–∞—Ö¬ª, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–π—Ç–æ–≤.
- **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –∞—Ç–∞–∫–∞, –ø—Ä–µ–¥–º–µ—Ç—ã, —Å–º–µ–Ω–∞ –ø–æ–∫–µ–º–æ–Ω–∞, –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–±–µ–≥–∞.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

### `main.js`
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ü–µ–Ω**: `showScene('menu'|'world'|'battle')`.
- **–°—Ç–∞—Ä—Ç –±–æ—è**: `startBattle(enemy)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç `Battle`, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è.
- **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**: `handleVisualEvent(evt, battle)` ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ HP/—Å–ø—Ä–∞–π—Ç–æ–≤.
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ø—Ä–∞–π—Ç–æ–≤**: `setupBattleScene(enemy, playerPokemon)` ‚Äî –ø–æ–∑–∏—Ü–∏–∏, info, hp-bars.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: `setImgSrcSafe(imgEl, src, fallback)`.
- **UI‚Äëhelpers**: `updateHP(side, cur, max)`, `showDamage(amount, x%, y%)`, `renderPanels()`.

### `modules/battle.js`
- **–ö–ª–∞—Å—Å Battle**:
  - –°—Ç–µ–π—Ç –∏–≥—Ä–æ–∫–∞/–≤—Ä–∞–≥–∞, –æ—á–µ—Ä–µ–¥—å —Ö–æ–¥–æ–≤.
  - –†–∞—Å—á—ë—Ç —É—Ä–æ–Ω–∞ –ø–æ —Ç–∏–ø–∞–º, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–æ–≤/—ç—Ñ—Ñ–µ–∫—Ç–æ–≤.
  - –ö–æ–Ω—Ç—Ä–æ–ª—å PP: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏—ë–º–∞ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ.
  - –°–æ–±—ã—Ç–∏—è: `onUpdate()` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, `onVisual(evt)` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π, `onDrop(itemId, qty)`, `onEnd(victory)`.
- **–î–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞**: `playerActionAttack(idx)`, `playerActionItem(itemId)`, `playerActionSwitch(slot)`, `playerActionRun()`.
- **–≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤**: `potion`, `pp_restore`, `pokeball/greatball`.
- **–ü—Ä–∞–≤–∏–ª–∞ –ª–µ—á–µ–Ω–∏—è**: `min(cur+heal, max)`, –±–µ–∑ ¬´–ø–æ—Ä–æ–≥–∞¬ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ).
- **–®–∞–Ω—Å—ã –ø–æ–∏–º–∫–∏**: —Ñ–æ—Ä–º—É–ª–∞ –ø–æ —Ç–∏–ø—É –º—è—á–∞ –∏ —Ç–µ–∫—É—â–µ–º—É HP –≤—Ä–∞–≥–∞.

### `modules/pokemon.js`
- **–ö–ª–∞—Å—Å Pokemon**: `id`, `name`, `type(s)`, `level`, `currentHP`, `maxHP`, `moves`, `pp` (–Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏—ë–º–∞).
- **–ú–µ—Ç–æ–¥—ã**: `takeDamage(amount)`, `heal(amount)`, `canUse(move)`, `use(move)`.
- **–≠–≤–æ–ª—é—Ü–∏–∏**: —Ç—Ä–∏–≥–≥–µ—Ä—ã –ø–æ —É—Ä–æ–≤–Ω—é, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `id/name/moves` —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É/–¥–∞–Ω–Ω—ã–µ.

### `modules/world.js`
- **–ö–∞—Ä—Ç–∞**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ç–∫–∏, —Ç–∏–ø—ã —Ç–∞–π–ª–æ–≤ (ground/grass/water).
- **–ü–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ**: WASD/—Å—Ç—Ä–µ–ª–∫–∏, –≤—ã–±–æ—Ä –∫–ª–µ—Ç–∫–∏ ‚Üí –∫–ª–∞—Å—Å `tile.player`/`tile.focused`.
- **–≠–Ω–∫–∞–Ω—Ç–µ—Ä—ã**: —à–∞–Ω—Å –≤—Å—Ç—Ä–µ—á–∏ –≤ —Ç—Ä–∞–≤–µ, —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–∞–≥–∞, –ø–µ—Ä–µ—Ö–æ–¥ –≤ –±–æ–π.

### `modules/player.js`
- **–°—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø–æ–∫–µ–º–æ–Ω—ã**, –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∫–µ–º–æ–Ω `active`, –ø–∞—Ä—Ç–∏—è `party`.
- **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å**: —Å—á—ë—Ç—á–∏–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è/—Å–ø–∏—Å–∞–Ω–∏–µ.
- **–û–ø—ã—Ç/—ç–≤–æ–ª—é—Ü–∏–∏**: `giveExpToActive(amount, factory, onEvolve)`.

### `data/`
- `pokemons.json` ‚Äî id, –∏–º–µ–Ω–∞, —Ç–∏–ø—ã, –±–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç—ã, —É—Ä–æ–≤–Ω–∏ —ç–≤–æ–ª—é—Ü–∏–π.
- `moves.json` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏—ë–º–æ–≤, —Ç–∏–ø, —Å–∏–ª–∞, —Ç–æ—á–Ω–æ—Å—Ç—å, –±–∞–∑–æ–≤—ã–π `pp`.
- `types.json` ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ (x2, x0.5, x0).

### `ui/` –∏ `assets/`
- `style.css` ‚Äî –∞—Ä–µ–Ω–∞, –∞–Ω–∏–º–∞—Ü–∏–∏, –ø–∞–Ω–µ–ª–∏, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª–µ—Ç–∫–∏.
- `index.html` ‚Äî —Å—Ü–µ–Ω—ã: –º–µ–Ω—é, –≤—ã–±–æ—Ä, –º–∏—Ä, –±–æ–π; DOM‚Äë–æ–±—ë—Ä—Ç–∫–∏ `#enemy-wrap`, `#player-wrap`.
- `assets/battle/enemy/<id>.png` ‚Äî —Ñ—Ä–æ–Ω—Ç —Å–ø—Ä–∞–π—Ç—ã –≤—Ä–∞–≥–æ–≤.
- `assets/battle/player/<id>_back.png` ‚Äî back —Å–ø—Ä–∞–π—Ç—ã –∏–≥—Ä–æ–∫–∞.
- `assets/images/pokemons/<id>.png` ‚Äî –¥–ª—è –ø–∞–Ω–µ–ª–µ–π/–º–µ–Ω—é.

---

## üß© –°–æ–±—ã—Ç–∏—è –±–æ—è (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- `onUpdate()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ UI (HP, –ø–∞–Ω–µ–ª–∏, –ª–æ–≥–∏).
- `onVisual(evt)`:
  - `start` ‚Üí `setupBattleScene(...)`.
  - `attack` ‚Üí –∫–ª–∞—Å—Å—ã `.lunge` –¥–ª—è –∞—Ç–∞–∫—É—é—â–µ–≥–æ, `.shake` –¥–ª—è —Ü–µ–ª–∏, `showDamage(...)`.
  - `damage` ‚Üí `updateHP(side, cur, max)`, –≤—Å–ø–ª—ã–≤–∞—é—â–∏–π —É—Ä–æ–Ω.
  - `faint` ‚Üí –∫–ª–∞—Å—Å `.fainted` (–±–µ–∑ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏, —Ç–æ–ª—å–∫–æ scale/—ç—Ñ—Ñ–µ–∫—Ç).
  - `item`, `switch`, `catch` ‚Üí —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.
- `onDrop(itemId, qty)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
- `onEnd(victory)` ‚Äî –æ–ø—ã—Ç/—ç–≤–æ–ª—é—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–∏—Ä.

---

## üöÄ –ó–∞–ø—É—Å–∫
https://khatar22.github.io/Poke-RougeLike/
